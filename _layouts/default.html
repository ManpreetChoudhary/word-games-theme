<!DOCTYPE html>
<html lang="en">

{%- include head/index.html -%}

<body>
    {%- include header/index.html -%}


    {% if page.url == '/' %}

    {% include section/home.html %}

    {% else %}

    {% include section/home2.html %}

    {% endif %}

    {% include section/feature.html %}

    {%- if dataToShow.faqList -%}
    {%- if dataToShow.faqList.first.Question !='' -%}
    {% include section/news.html %}
    {% endif %}
    {% endif %}


    {%- if page.letter -%}
    {%- include WordPointTables/table.html -%}
    {%- endif -%}
    {%- if site.posts.size>0 -%}
    {% include section/blog.html %}
    {%- endif -%}


    {%- include share/socialshare.html -%}
    {%- include Rating/rating.html -%}
    {%- include footer/index.html -%}

    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.5.0/font/bootstrap-icons.min.css" />
    <script defer src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js"></script>
    <script>
        let txtBox = document.querySelector('.txtBox')
        txtBox.addEventListener('input', (e) => {
            e.target.value = e.target.value.replace(/[^a-zA-Z? ]/g, "")
            let rangeOfBlankTile = '{{ page.blanktilerange }}'
            if (rangeOfBlankTile === "") {
                rangeOfBlankTile = 5
            }
            e.target.value = e.target.value.replace(/ /g, '?')
            let data = []
            data = e.target.value.split('').filter((i) => i === '?')
            console.log(data.length)
            console.log(rangeOfBlankTile)
            if (data.length > rangeOfBlankTile) {
                e.target.value = e.target.value.replace(/\?$/, '')
            }
        })


        const autoLoadDuration = 5; //In Seconds
        const eventList = ["keydown", "mousemove", "wheel", "touchmove", "touchstart", "touchend"];

        const autoLoadTimeout = setTimeout(runScripts, autoLoadDuration * 1000);

        eventList.forEach(function (event) {
            window.addEventListener(event, triggerScripts, { passive: true })
        });

        function triggerScripts() {
            runScripts();
            clearTimeout(autoLoadTimeout);
            eventList.forEach(function (event) {
                window.removeEventListener(event, triggerScripts, { passive: true });
            });
        }

        function runScripts() {
            console.log(document.querySelector("script"))
            console.log("Javascript Executed!")
            console.log(document.querySelectorAll("script[delay]"))
            document.querySelectorAll("script[delay]").forEach(function (scriptTag) {
                scriptTag.setAttribute("src", scriptTag.getAttribute("delay"));
            });
        }
    </script>

    {% include Monumetric/Monumetric.html %}
</body>

</html>